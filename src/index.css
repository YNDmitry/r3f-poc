html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
}

canvas {
  outline: none;
  -webkit-tap-highlight-color: transparent;
  touch-action: pan-y !important;
}

.r3f-canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  touch-action: pan-y !important;
}

/* 
  Mobile/Touch Optimization:
  Disable pointer events on the canvas in 'grid' mode for ALL touch devices 
  and small screens via Media Queries (no JS delay).
*/

/* 1. Class-based (JS detected) */
.r3f-canvas-container.mode-grid.is-touch canvas,
.r3f-canvas-container.mode-grid.is-mobile canvas,
.r3f-canvas-container.mode-grid.is-tablet canvas {
  pointer-events: none !important;
}

/* 2. Media Query Fallback (Immediate CSS enforcement) 
   If width < 991px (Tablet/Mobile) AND inside mode-grid (which is set early),
   force pointer-events: none.
*/
@media (max-width: 991px) {
  .r3f-canvas-container.mode-grid canvas {
    pointer-events: none !important;
  }
}

/* 3. Pointer Coarse (Touch devices) Fallback */
@media (pointer: coarse) {
  .r3f-canvas-container.mode-grid canvas {
    pointer-events: none !important;
  }
}

.grabbing, .grabbing * {
  cursor: grabbing !important;
}